<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeoy's Blog</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <a href="#about">关于</a>
            <a href="#skills">技能</a>
            <a href="#contact">联系</a>
            <a href="#projects">项目</a>
            <a href="#games">游戏</a>
        </nav>
    </header>

    <main>
        <section id="intro">
            <span class="tag">92'</span>
            <h1>Hi, 我是 Zeoy</h1>
            <p>Android & 全栈开发工程师</p>
            <div class="divider"></div>
        </section>

        <section id="about">
            <h2>关于我</h2>
            <p>8年Android开发经验，2年全栈开发经验。热爱学习和探索新技术，专注于移动应用开发与Web全栈技术。</p>
            <div class="timeline">
                <div class="timeline-item">
                    <span class="year">2016</span>
                    <span class="event">开始Android开发之旅</span>
                </div>
                <div class="timeline-item">
                    <span class="year">2023</span>
                    <span class="event">转向全栈开发</span>
                </div>
            </div>
        </section>

        <section id="skills">
            <h2>技术栈</h2>
            <div class="skills-grid">
                <div class="skill">
                    <h3>Android</h3>
                    <div class="skill-bar"><div style="width: 95%"></div></div>
                </div>
                <div class="skill">
                    <h3>Java</h3>
                    <div class="skill-bar"><div style="width: 90%"></div></div>
                </div>
                <div class="skill">
                    <h3>Web开发</h3>
                    <div class="skill-bar"><div style="width: 75%"></div></div>
                </div>
            </div>
        </section>

        <section id="contact">
            <h2>联系我</h2>
            <div class="contact-info">
                <a href="mailto:abab@zeoy.xyz" class="contact-link">Email</a>
                <a  class="contact-link">GitHub</a>
            </div>
        </section>

        <section id="projects">
            <h2>项目展示</h2>
            <div class="projects-grid">
                <div class="project-card">
                    <h3>智能家居控制系统</h3>
                    <p>基于Android的智能家居控制应用，支持多设备管理、场景联动和语音控制。</p>
                    <div class="tech-stack">
                        <span class="tech-tag">Android</span>
                        <span class="tech-tag">Java</span>
                        <span class="tech-tag">MQTT</span>
                    </div>
                </div>

                <div class="project-card">
                    <h3>企业管理系统</h3>
                    <p>基于Vue.js的现代化企业管理平台，包含人事管理、财务报表、项目跟踪等模块。</p>
                    <div class="tech-stack">
                        <span class="tech-tag">Vue.js</span>
                        <span class="tech-tag">Node.js</span>
                        <span class="tech-tag">MongoDB</span>
                    </div>
                </div>

                <div class="project-card">
                    <h3>健康数据追踪器</h3>
                    <p>结合可穿戴设备的健康数据分析应用，提供个性化的健康建议和数据可视化。</p>
                    <div class="tech-stack">
                        <span class="tech-tag">Android</span>
                        <span class="tech-tag">Kotlin</span>
                        <span class="tech-tag">HealthKit</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="games">
            <h2>在线小游戏</h2>
            <div class="games-grid">
                <div class="game-card" onclick="openSnakeGame()">
                    <h3>贪吃蛇</h3>
                    <p>经典的贪吃蛇游戏，使用方向键控制蛇的移动</p>
                    <button class="play-btn">开始游戏</button>
                </div>
                <div class="game-card" onclick="openTetrisGame()">
                    <h3>俄罗斯方块</h3>
                    <p>经典的俄罗斯方块游戏，考验你的空间思维能力</p>
                    <button class="play-btn">开始游戏</button>
                </div>
                <div class="game-card" onclick="openLinkGame()">
                    <h3>连连看</h3>
                    <p>休闲益智的连连看游戏，锻炼你的观察力</p>
                    <button class="play-btn">开始游戏</button>
                </div>
            </div>
        </section>
    </main>

    <!-- 贪吃蛇游戏弹窗 -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeSnakeGame()">&times;</span>
            <h2>贪吃蛇</h2>
            <div class="game-container">
                <canvas id="snakeCanvas" width="400" height="400"></canvas>
                <div class="game-info">
                    <div>
                        <p>分数: <span id="score">0</span></p>
                        <p>最高分: <span id="highScore">0</span></p>
                    </div>
                    <button onclick="startGame()" class="start-btn">开始新游戏</button>
                </div>
                <!-- 排行榜 -->
                <div class="leaderboard">
                    <h3>排行榜</h3>
                    <div id="leaderboardList" class="leaderboard-list">
                        <!-- 排行榜数据将通过 JavaScript 动态添加 -->
                    </div>
                </div>
                <!-- 添加移动端控制按钮 -->
                <div class="mobile-controls">
                    <div class="controls-row">
                        <button class="control-btn" onclick="handleDirection('up')">↑</button>
                    </div>
                    <div class="controls-row">
                        <button class="control-btn" onclick="handleDirection('left')">←</button>
                        <button class="control-btn" onclick="handleDirection('right')">→</button>
                    </div>
                    <div class="controls-row">
                        <button class="control-btn" onclick="handleDirection('down')">↓</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 俄罗斯方块游戏弹窗 -->
    <div id="tetrisModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeTetrisGame()">&times;</span>
            <h2>俄罗斯方块</h2>
            <div class="game-container">
                <div class="tetris-container">
                    <canvas id="tetrisCanvas" width="300" height="600"></canvas>
                    <div class="tetris-info">
                        <div class="next-piece">
                            <h3>下一个方块</h3>
                            <canvas id="nextPieceCanvas" width="120" height="120"></canvas>
                        </div>
                        <div class="game-stats">
                            <p>分数: <span id="tetrisScore">0</span></p>
                            <p>等级: <span id="tetrisLevel">1</span></p>
                            <p>消除行数: <span id="tetrisLines">0</span></p>
                        </div>
                        <button onclick="startTetris()" class="start-btn">开始新游戏</button>
                    </div>
                </div>
                <!-- 排行榜 -->
                <div class="leaderboard">
                    <h3>排行榜</h3>
                    <div id="tetrisLeaderboardList" class="leaderboard-list">
                    </div>
                </div>
                <!-- 移动端控制 -->
                <div class="mobile-controls tetris-controls">
                    <div class="controls-row">
                        <button class="control-btn" onclick="rotateTetris()">旋转</button>
                    </div>
                    <div class="controls-row">
                        <button class="control-btn" onclick="moveTetris('left')">←</button>
                        <button class="control-btn" onclick="moveTetris('down')">↓</button>
                        <button class="control-btn" onclick="moveTetris('right')">→</button>
                    </div>
                    <div class="controls-row">
                        <button class="control-btn" onclick="dropTetris()">快速下落</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 连连看游戏弹窗 -->
    <div id="linkModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLinkGame()">&times;</span>
            <h2>连连看</h2>
            <div class="game-container">
                <div class="link-container">
                    <canvas id="linkCanvas" width="600" height="400"></canvas>
                    <div class="link-info">
                        <div class="game-stats">
                            <p>剩余时间: <span id="linkTimer">300</span>秒</p>
                            <p>分数: <span id="linkScore">0</span></p>
                        </div>
                        <button onclick="startLinkGame()" class="start-btn">开始新游戏</button>
                    </div>
                </div>
                <!-- 排行榜 -->
                <div class="leaderboard">
                    <h3>排行榜</h3>
                    <div id="linkLeaderboardList" class="leaderboard-list">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Always learning, always growing.</p>
        <small>&copy; 2025 Zeoy</small>
    </footer>

    <script>
        // 贪吃蛇游戏逻辑
        let canvas, ctx;
        let snake = [];
        let food = {};
        let direction = 'right';
        let gameLoop;
        let score = 0;
        const gridSize = 20;
        const gridCount = 20;
        let highScore = 0;
        let leaderboard = [];

        // 初始化游戏数据
        function initGameData() {
            // 从 localStorage 加载最高分和排行榜数据
            const savedHighScore = localStorage.getItem('snakeHighScore');
            const savedLeaderboard = localStorage.getItem('snakeLeaderboard');
            
            if (savedHighScore) {
                highScore = parseInt(savedHighScore);
                document.getElementById('highScore').textContent = highScore;
            }
            
            if (savedLeaderboard) {
                leaderboard = JSON.parse(savedLeaderboard);
                updateLeaderboardDisplay();
            }
        }

        // 更新排行榜显示
        function updateLeaderboardDisplay() {
            const leaderboardList = document.getElementById('leaderboardList');
            leaderboardList.innerHTML = '';
            
            // 按分数排序并显示前10名
            leaderboard.sort((a, b) => b.score - a.score)
                      .slice(0, 10)
                      .forEach((entry, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item';
                item.innerHTML = `
                    <span class="rank">${index + 1}</span>
                    <span class="name">${entry.name}</span>
                    <span class="score">${entry.score}</span>
                `;
                leaderboardList.appendChild(item);
            });
        }

        // 添加新的排行记录
        function addToLeaderboard(name, score) {
            leaderboard.push({ name, score });
            leaderboard.sort((a, b) => b.score - a.score);
            
            // 只保留前20名
            if (leaderboard.length > 20) {
                leaderboard = leaderboard.slice(0, 20);
            }
            
            // 保存到 localStorage
            localStorage.setItem('snakeLeaderboard', JSON.stringify(leaderboard));
            updateLeaderboardDisplay();
        }

        function openSnakeGame() {
            document.getElementById('gameModal').style.display = 'flex';
            canvas = document.getElementById('snakeCanvas');
            ctx = canvas.getContext('2d');
            initGameData();
            initGame();
        }

        function closeSnakeGame() {
            document.getElementById('gameModal').style.display = 'none';
            if (gameLoop) clearInterval(gameLoop);
        }

        function initGame() {
            snake = [
                {x: 6, y: 10},
                {x: 5, y: 10},
                {x: 4, y: 10}
            ];
            direction = 'right';
            score = 0;
            document.getElementById('score').textContent = score;
            createFood();
            if (gameLoop) clearInterval(gameLoop);
            drawGame();
        }

        function startGame() {
            initGame();
            gameLoop = setInterval(moveSnake, 150);
        }

        function createFood() {
            food = {
                x: Math.floor(Math.random() * gridCount),
                y: Math.floor(Math.random() * gridCount)
            };
            // 确保食物不会出现在蛇身上
            while (snake.some(segment => segment.x === food.x && segment.y === food.y)) {
                food = {
                    x: Math.floor(Math.random() * gridCount),
                    y: Math.floor(Math.random() * gridCount)
                };
            }
        }

        function drawGame() {
            // 清空画布
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 画蛇
            ctx.fillStyle = '#4CAF50';
            snake.forEach(segment => {
                ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize - 2, gridSize - 2);
            });

            // 画食物
            ctx.fillStyle = '#FF5252';
            ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);
        }

        function moveSnake() {
            const head = {x: snake[0].x, y: snake[0].y};

            switch(direction) {
                case 'up': head.y--; break;
                case 'down': head.y++; break;
                case 'left': head.x--; break;
                case 'right': head.x++; break;
            }

            // 检查是否撞墙或撞到自己
            if (head.x < 0 || head.x >= gridCount || head.y < 0 || head.y >= gridCount ||
                snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                // 游戏结束，处理得分
                if (score > 0) {
                    const playerName = prompt('游戏结束！你的得分是: ' + score + '\n请输入你的昵称:');
                    if (playerName) {
                        addToLeaderboard(playerName, score);
                    }
                }
                
                // 更新最高分
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem('snakeHighScore', highScore);
                    document.getElementById('highScore').textContent = highScore;
                }
                
                initGame();
                return;
            }

            snake.unshift(head);

            // 检查是否吃到食物
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                document.getElementById('score').textContent = score;
                createFood();
            } else {
                snake.pop();
            }

            drawGame();
        }

        // 处理方向控制
        function handleDirection(dir) {
            switch(dir) {
                case 'up':
                    if (direction !== 'down') direction = 'up';
                    break;
                case 'down':
                    if (direction !== 'up') direction = 'down';
                    break;
                case 'left':
                    if (direction !== 'right') direction = 'left';
                    break;
                case 'right':
                    if (direction !== 'left') direction = 'right';
                    break;
            }
        }

        // 键盘控制
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowUp':
                    handleDirection('up');
                    break;
                case 'ArrowDown':
                    handleDirection('down');
                    break;
                case 'ArrowLeft':
                    handleDirection('left');
                    break;
                case 'ArrowRight':
                    handleDirection('right');
                    break;
            }
        });
    </script>
    <script src="tetris.js"></script>
    <script src="linkgame.js"></script>
</body>
</html>